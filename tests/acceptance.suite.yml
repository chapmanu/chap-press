# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# 
# Perform tests in browser using the WPWebDriver or WPBrowser.
# Use WPDb to set up your initial database fixture.
# If you need both WPWebDriver and WPBrowser tests - create a separate suite.
# 
# For Reference:
# The dump will import the chappress_dev database. 
# It will replace the localhost:8222 with localhost:8777 for testing purposes. 
# It uses it own database (chapress-test) for testing. After testing, the original
# chappress_dev database should not be affected. Tests can run while the public folder
# is running since they are on different ports.  



actor: AcceptanceTester
modules:
    enabled:
        - WPDb
        - WPBrowser
        - \Helper\Acceptance
    config:
        WPDb:
            dsn: 'mysql:host=localhost;dbname=chappress_test' #uses as the test db
            user: 'chappress'
            password: 'chappress'
            dump: 'tests/_data/chappress_dev_dump.sql' #imports the chappress_dev site mysql
            populate: true #import the dump before the tests
            cleanup: true #import the dump between tests
            url: 'http://localhost:8777'
            urlReplacement: true #replaces the test db with the hardcoded dump URL with the one above
            tablePrefix: 'wp_'
        WPBrowser:
            url: 'http://localhost:8777'
            adminUsername: 'chappress'
            adminPassword: 'password'
            adminPath: '/wp-admin'