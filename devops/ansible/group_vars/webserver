#
# General Application Settings
#

#
# Role: ontic.account
# https://github.com/ontic/ansible-role-account/tree/master/docs
# http://docs.ansible.com/ansible/latest/playbooks_lookups.html#the-password-lookup
#
app_name: chappress
app_user: deploy
app_user_pw_path: "/tmp/ansible-{{ app_name }}-{{ app_user }}-{{inventory_hostname}}-pw.txt"
app_remote_path: "/var/www/{{ app_name }}"

account_groups:
  - name: "{{ app_user }}"
    system: yes
account_users:
  - name: "{{ app_user }}"
    createhome: yes
    sudoer: yes
    group: "{{ app_user }}"
    password: "{{ lookup('password', '{{ app_user_pw_path }} length=16 encrypt=md5_crypt') }}"
    files:
      - path: '.ssh'
        mode: '0700'
        state: 'directory'

#
# Role: geerlingguy.firewall
#
firewall_allowed_tcp_ports:
  - "22"
  - "80"
  - "443"

#
# Role: geerlingguy.nginx
#
# This is the default Red Hat setting from the role.
nginx_remove_default_vhost: true

#
# Role: Basic packages
#
# Creates WordPress database
wp_db_name: "chappress_dev"
wp_db_user: "chappress"
wp_db_password: "chappress"

#
# Role: tjarrett.selfsignedcertificate
#
use_self_signed_cert: yes
self_signed_cert_path: /etc/pki/tls/certs
self_signed_cert_key_path: /etc/pki/tls/private
self_signed_cert_filename: self-signed-cert

selfsignedcertificates:
  - {
      certs_path: "{{ self_signed_cert_path }}",
      key_path: "{{ self_signed_cert_key_path }}",
      filename: "{{ self_signed_cert_filename }}",
      country: US,
      state: California,
      locality: Orange,
      organization: "Chapman University",
      domain: "{{ app_name }}.chapman.edu"
    }

#
# Role: geerlingguy.php
# FIX: Following settings need to be further edited to properly setup PHP70 with Nginx & WordPress
php_enablerepo: "remi-php70"
php_packages_state: "latest"
__php_webserver_daemon: "nginx"
__php_fpm_pool_user: nginx
__php_fpm_pool_group: nginx
php_webserver_daemon: "nginx"
php_fpm_pool_user: nginx
php_fpm_pool_group: nginx
php_date_timezone: "America/Los_Angeles"
php_enable_php_fpm: true
